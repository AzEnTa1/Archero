@startuml SequenceDiagram
' Diagramme de séquence : une course de deux voitures

title Séquence - Course de deux voitures sur un circuit

participant "Organisateur" as Org
participant "Circuit" as C
participant "Voiture A" as V1
participant "Voiture B" as V2

Org -> C : Circuit(longueur_tour=500.0, nombre_tours=3)
activate C
Org -> V1 : Voiture('V1')
activate V1
Org -> V2 : Voiture('V2')
activate V2

Org -> C : ajouter_voiture(V1)
C -> V1 : participants.append(V1)
Org -> C : ajouter_voiture(V2)
C -> V2 : participants.append(V2)

Org -> C : demarrer_course()
C -> V1 : notifier_demarrage()
C -> V2 : notifier_demarrage()

loop pour chaque tour [1..3]
    alt Voiture A accélère puis parcourt le tour
        V1 -> V1 : accelerer(30)
        V1 -> C : enregistrer_tour(V1)
        C -> V1 : mettre_a_jour_position()
    end

    alt Voiture B accélère puis parcourt le tour
        V2 -> V2 : accelerer(25)
        V2 -> C : enregistrer_tour(V2)
        C -> V2 : mettre_a_jour_position()
    end
end

C -> C : calculer_classement()
C -> Org : afficher_classement() : ["V1", "V2"]
deactivate V2
deactivate V1
deactivate C

Org -> V1 : feliciter()
Org -> V2 : remercier()
@enduml
